\documentclass[a4paper,11pt,oneside]{book}
\usepackage[final]{graphicx}
\usepackage{subcaption}
\usepackage[utf8]{inputenc}
\usepackage{graphicx}
\usepackage[english]{babel}
\usepackage[backend=biber,citestyle=numeric-comp,sorting=none]{biblatex}
\usepackage{array}
\usepackage{float}
\usepackage{tfrupee}
\usepackage{siunitx}
\usepackage[section]{placeins}
\usepackage{verbatim}
\usepackage{listings}
\usepackage{hyperref}
\usepackage[hashEnumerators,smartEllipses]{markdown}


\addbibresource{references.bib}

\graphicspath{ {./figures/} }

\newcommand{\ProjectTitle}{DFPL Project001}

\pagenumbering{arabic}

\begin{document}

\begin{titlepage}
\begin{center}
\fontsize{28pt}{30pt}\selectfont
\textbf{DOCUMENTATION}\\[0.5cm]
\fontsize{20pt}{30pt}\selectfont
of\\[0.5cm]
\fontsize{32pt}{32pt}\selectfont
\textbf{\ProjectTitle}\\[14cm]
\fontsize{16pt}{18pt}\selectfont
\textbf{December 2019}
\end{center}
\end{titlepage}

\newpage
\tableofcontents

\newpage
\thispagestyle{empty}

\addcontentsline{toc}{chapter}{List of Figures}
\listoffigures

\addcontentsline{toc}{chapter}{List of Tables}
\listoftables

\mainmatter
\newpage

\chapter{Prerequisite Concepts}
\input{content/prelim.tex}


\newpage
\chapter{Solution Architecture}
\input{content/PropSoln.tex}

\chapter{Solution Stack}
\input{content/SolnStack.tex}

\chapter{Full Deployment Process}

The link for the full code base is: \url{https://github.com/Raghav-intrigue/dfpl-project001}

\noindent
To download the full solution:

\begin{lstlisting}[tabsize=2,basicstyle=\footnotesize,language=bash,breaklines=true]
git clone --recurse-submodules \
	https://github.com/Raghav-intrigue/dfpl-project001
cd dfpl-project001
\end{lstlisting}

\noindent
Then, the deployment from scratch requires:

\subsection{Initial cloud setup}

   This will be done only once in the projects lifetime.
   \noindent
   Follow the instructions in \href{https://github.com/Raghav-intrigue/dfpl-project001/blob/master/documentation/cloud.md}{Cloud setup from scratch}

\subsection{Device setup and registration}

    Each device (node and gateway) has a unique ID, this needs to be registered on the cloud. This ID can be any arbitrary string (ensure consistency in the naming schema for convenience).
    \noindent
    This will be done once for each device in it's lifetime.
    
    \begin{enumerate}
    \item Setup Cloud (open \href{https://github.com/Raghav-intrigue/dfpl-project001/blob/master/documentation/cloud.md}{Cloud Setup}):
	    \begin{itemize}
	    \item Register Gateway (note down the gatewayID)
	    \item Register Nodes and Bind the nodes to the gateway (note the nodeIDs)
	    \end{itemize}
    \item Flash each node with the registered NodeIDs. See \href{https://github.com/Raghav-intrigue/dfpl-project001-node}{Node Setup}
    \item Setup Gateway (software installation). See section \href{https://github.com/Raghav-intrigue/dfpl-project001-gateway}{Gateway Setup}
    \end{enumerate}

\subsection{Field Deployment}
    \begin{enumerate}
    \item Turn on the gateway (Raspberry Pi)
	    \begin{itemize}
	    \item Connect the given USB C power adapter  to the raspberry pi.
	    \item Connect the given 4G dongle to raspberry pi via usb
	    \item Turn on the raspberry pi
	    \end{itemize}
    \item Place the nodes in the field
    \item Turn them on
    \end{enumerate}

\chapter{Next Steps}
\input{content/results.tex}


\chapter{Code:}
\input{content/appendix.tex}

\newpage
\addcontentsline{toc}{chapter}{References}
\printbibliography



\end{document}
